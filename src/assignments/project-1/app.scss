$font-stack: 'IBM Plex Mono', monospace;
$primary-color: #5d7a8a;
$blue-accent: #a8c6c4;
$pink-accent: #e5dbdc;

*, *:before, *:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

body {
  background-color: $pink-accent;
  color: $primary-color;
  font-family: $font-stack;
  margin: 0;
}

header {
  background-color: $primary-color;
  color: $pink-accent;
  width: 100%;
  padding: 2rem 1rem;
  margin: 0;
}

header div {
  max-width: 960px;
  margin: auto;
}

button {
  font-family: $font-stack;
  font-size: 1rem;
  color: darken($primary-color, 10%);
	background-color: $blue-accent;
	padding: 1rem;
	border-radius: 3rem;
	box-shadow: 0.1rem 0.3rem $primary-color;
	border: none;
	cursor: pointer;
	&:hover {
		background: darken($blue-accent, 5%);
	}
}

.uploader {
  color: darken($primary-color, 10%);
	background-color: $blue-accent;
	padding: 1rem;
	border-radius: 3rem;
	box-shadow: 0.1rem 0.3rem $primary-color;
	border: none;
	cursor: pointer;
	&:hover {
		background: darken($blue-accent, 5%);
	}
	&::before {
		display: inline-block;
		font-style: normal;
		font-variant: normal;
		text-rendering: auto;
		-webkit-font-smoothing: antialiased;
		font-family: "Font Awesome 5 Free";
		font-weight: 900;
		content: "\f093";
		margin-right: 0.5rem;
	}
}

input[type="file"] {
	display: none;
}

progress[value] {
	/*from https://css-tricks.com/html5-progress-element*/
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	border: none;
	width: 250px;
	height: 15px;
	border-radius: 1rem;
}

progress[value]::-webkit-progress-bar {
	background-color: #eee;
	border-radius: 1rem;
	box-shadow: 0.1rem 0.2rem darken($primary-color, 20%);
}

progress[value]::-webkit-progress-value {
	border-radius: 1rem 0.3rem 0.3rem 1rem;
	background: $primary-color;
	background: linear-gradient(to right, $blue-accent 0%, $primary-color 100%);
}

progress[value]::-moz-progress-bar {
	background-color: #eee;
	border-radius: 1rem;
	border-radius: 1rem 0.3rem 0.3rem 1rem;
	background: $primary-color;
	background: linear-gradient(to right, $blue-accent 0%, $primary-color 100%);
}

main {
  padding: 1rem;
}

.gallery li {
  border: 1px dotted $primary-color;
  padding: 10px;
  list-style-type: none;
}

.upload h2 {
  padding: 1rem 0;
}

.progress ul {
  margin: 3rem 0;
}

.progress li {
  list-style-type: none;
}

.gallery li {
  border: 1px dotted $primary-color;
  padding: 10px;
  list-style-type: none;
}

@supports (display: flex) {
  .gallery li {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
  }

  .gallery img {
    order: -1;
    align-self: flex-start;
  }
}

@supports (display: grid) {
  main {
     display: grid;
  }

  .upload {
    grid-column: 1 / 2;
    grid-row: 1 / 2;
  }

  .progress {
    grid-column: 1 / 2;
    grid-row: 2 / 3;
  }

  .completed {
    grid-column: 1 / 2;
    grid-row: 3 / 4;
  }

  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, 220px);
    grid-gap: 1rem;
  }

  @media screen and (min-width: 900px) {
    main {
       grid-template-rows: 150px auto;
       grid-template-columns: 1fr 1fr;
       grid-gap: 1rem;
       max-width: 960px;
       margin: auto;
    }

    .upload {
      grid-column: 1 / 2;
      grid-row: 1 / 2;
    }

    .progress {
      grid-column: 2 / 3;
      grid-row: 1 / 2;
    }

    .completed {
      grid-column: 1 / 3;
      grid-row: 2 / 3;
    }
  }
}
